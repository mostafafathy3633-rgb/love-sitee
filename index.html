<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¥Ù„Ù‰ Ø³Ù…Ø³ÙˆÙ…ØªÙŠ â¤ï¸</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body { margin:0; font-family: 'Cairo', sans-serif; background: #0b0118; color:#fff; text-align:center; direction: rtl; min-height: 100vh; overflow-x: hidden; }
        .bg-fallback { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(45deg, #0b0118, #1a0236); z-index: -1; }
        .screen { display:none; padding:30px 20px; min-height:100vh; box-sizing: border-box; }
        .active { display: block !important; }
        button { padding:15px; width:85%; border:none; border-radius:30px; font-size:16px; margin-top:20px; background:#ff4d6d; color:white; font-weight:bold; cursor:pointer; }
        
        /* ØªØµÙ…ÙŠÙ… Ø§Ù„ÙƒÙˆØ¨ÙˆÙ† Ø§Ù„Ù…ØªÙ‚Ø¯Ù… */
        .scratch-container { position: relative; width: 300px; height: 200px; margin: 20px auto; background: #fff; color: #333; border-radius: 15px; overflow: hidden; display: flex; align-items: center; justify-content: center; padding: 15px; box-sizing: border-box; }
        #scratch-canvas { position: absolute; top: 0; left: 0; cursor: crosshair; touch-action: none; }
        .coupon-text { text-align: center; font-size: 14px; font-weight: bold; color: #ff4d6d; line-height: 1.6; }

        /* ØªØ£Ø«ÙŠØ± Ø§Ù„Ø§Ù†ÙØ¬Ø§Ø± */
        .explosion { position: fixed; pointer-events: none; z-index: 10000; font-size: 30px; animation: explode 1.5s forwards; }
        @keyframes explode {
            0% { transform: translate(0, 0) scale(1); opacity: 1; }
            100% { transform: translate(var(--x), var(--y)) scale(0); opacity: 0; }
        }

        #pop { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.95); z-index: 9999; padding:40px 20px; overflow-y:auto; box-sizing: border-box; }
        .floating { position:fixed; bottom:-50px; animation:floatUp linear infinite; z-index:100; opacity: 0.7; }
        @keyframes floatUp { from{transform:translateY(0)} to{transform:translateY(-120vh)} }
    </style>
</head>
<body>
<div class="bg-fallback"></div>
<audio id="song" src="song.mp3" loop></audio>
<audio id="voice" src="voice.mp3"></audio>

<div id="screen1" class="screen active">
    <div style="font-size:60px; margin-top:15vh;">â¤ï¸</div>
    <h1>Ø¨Ø­Ø¨Ùƒ ÙŠØ§ Ø³Ù…Ø³ÙˆÙ…ØªÙŠ</h1>
    <input type="password" id="passInput" placeholder="Ø¹ÙŠØ¯ Ù…ÙŠÙ„Ø§Ø¯Ùƒ â¤ï¸" style="padding:15px; width:80%; border-radius:30px; border:none; text-align:center;">
    <button onclick="checkPass()">Ø¯Ø®ÙˆÙ„ âœ¨</button>
</div>

<div id="screen2" class="screen">
    <img src="images/1.jpg" style="width:80%; border-radius:20px; margin-top:30px;">
    <h1>Ø³Ù…Ø³ÙˆÙ…ØªÙŠ â¤ï¸</h1>
    <button onclick="goS3()">Ø§Ø¨Ø¯Ø£ÙŠ Ø§Ù„Ø±Ø­Ù„Ø©</button>
</div>

<div id="screen3" class="screen">
    <h2>Ø±Ø³Ø§Ù„Ø© Ù…Ù† Ù‚Ù„Ø¨ÙŠ ğŸ’Œ</h2>
    <div id="twText" style="min-height:100px; padding:20px;"></div>
    <button onclick="nav('screen4')">Ø°ÙƒØ±ÙŠØ§ØªÙ†Ø§ ğŸ“¸</button>
</div>

<div id="screen4" class="screen">
    <h2 style="color:#ff4d6d;">Ø°ÙƒØ±ÙŠØ§Øª ØµØºÙ†Ù†Ù‡ â¤ï¸</h2>
    <button onclick="nav('screen5')">Ø±Ø³Ø§ÙŠÙ„ Ù„ÙŠÙƒÙŠ ğŸ’–</button>
</div>

<div id="screen5" class="screen">
    <h2>Ø§ÙØªØ­ÙŠ Ø­Ø³Ø¨ Ø¥Ø­Ø³Ø§Ø³Ùƒ â¤ï¸</h2>
    <button onclick="showPop(m1)">Ù„Ù…Ø§ ØªØ²Ø¹Ù„Ù‘ÙŠ ğŸ«‚</button>
    <button onclick="showPop(m2)">Ù„Ù…Ø§ ØªÙØ±Ø­ÙŠ âœ¨</button>
    <button onclick="showPop(m3)" style="background:#ff758c;">1/1/2026 ğŸ†</button>
    <button onclick="askSecret()" style="background:#9d4edd;">Ø§Ø³Ù…Ø¹ÙŠ ØµÙˆØªÙŠ â¤ï¸</button>
    
    <button onclick="giveHug()" style="background:#48cae4;">Ø£Ù†Ø§ Ø¹Ø§ÙŠØ²Ø© Ø­Ø¶Ù† ğŸ«‚</button>

    <h3 style="margin-top:40px;">ğŸ« ÙƒÙˆØ¨ÙˆÙ† Ø§Ù„Ø­Ø¨ (Ø®Ø±Ø¨Ø´ÙŠ Ù‡Ù†Ø§)</h3>
    <div class="scratch-container">
        <div class="coupon-text">
            Ø§Ù†Ø§ Ø§Ø³Ù ÙŠØ³Ù…Ø§ Ø¹Ù„Ù‰ ÙƒÙ„ Ø­Ø§Ø¬Ù‡ Ø²Ø¹Ù„ØªÙƒ.. Ø§Ù†Ø§ Ù…Ù„ÙŠØ´ ØºÙŠØ±Ùƒ ÙˆØ¹Ø§ÙŠØ² Ù†Ø¨Ø¯Ø£ Ù…Ù† Ø¬Ø¯ÙŠØ¯ ÙÙŠ Ø§Ù„Ø³Ù†Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© â¤ï¸
        </div>
        <canvas id="scratch-canvas" width="300" height="200"></canvas>
    </div>
</div>

<div id="pop">
    <div id="popText"></div>
    <div id="secretArea" style="display:none;">
        <input type="text" id="secretInput" placeholder="Ù…ÙŠÙ† Ø£ÙƒØªØ± Ø­Ø¯ Ø¨Ø­Ø¨Ù‡ØŸ">
        <button onclick="verifySecret()">ØªØ£ÙƒÙŠØ¯ âœ…</button>
    </div>
    <button onclick="closePopup()">Ø¥ØºÙ„Ø§Ù‚</button>
</div>

<script>
    const p = "772007";
    const m1 = "Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø²Ø¹Ù„..."; 
    const m2 = "Ø±Ø³Ø§Ù„Ø© Ø§Ù„ÙØ±Ø­...";
    const m3 = "Ø±Ø³Ø§Ù„Ø© 2026...";

    function nav(id) {
        document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        if(id === 'screen5') initScratch();
    }

    function checkPass() {
        if(document.getElementById('passInput').value === p) nav('screen2');
        else alert("ØºÙ„Ø· ÙŠØ§ Ø³Ù…Ø³ÙˆÙ…Ø© ğŸ˜‰");
    }

    function goS3() {
        document.getElementById("song").play().catch(()=>{});
        nav('screen3');
        // ÙƒÙˆØ¯ Ø§Ù„Ù€ Typewriter...
    }

    // ÙƒÙˆØ¯ Ø§Ù„Ù‡Ø²Ø§Ø² Ù„Ø²Ø±Ø§Ø± Ø§Ù„Ø­Ø¶Ù†
    function giveHug() {
        if (navigator.vibrate) {
            navigator.vibrate([200, 100, 200, 100, 500]); // Ø§Ù‡ØªØ²Ø§Ø² Ù‚ÙˆÙŠ
        }
        alert("Ø£Ù†Ø§ Ø¬Ù†Ø¨Ùƒ â¤ï¸.. ÙˆÙ…Ø³ØªØ­ÙŠÙ„ Ø£Ø³ÙŠØ¨Ùƒ");
    }

    // ÙƒÙˆØ¯ Ø§Ù„Ø®Ø±Ø¨Ø´Ø©
    function initScratch() {
        const canvas = document.getElementById('scratch-canvas');
        const ctx = canvas.getContext('2d');
        ctx.fillStyle = '#888';
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        ctx.fillStyle = '#fff';
        ctx.font = '20px Cairo';
        ctx.fillText('Ø®Ø±Ø¨Ø´ÙŠ Ù‡Ù†Ø§ â¤ï¸', 90, 100);

        let isDrawing = false;
        let cleared = false;

        function scratch(e) {
            if (!isDrawing) return;
            const rect = canvas.getBoundingClientRect();
            const x = (e.clientX || e.touches[0].clientX) - rect.left;
            const y = (e.clientY || e.touches[0].clientY) - rect.top;
            ctx.globalCompositeOperation = 'destination-out';
            ctx.beginPath();
            ctx.arc(x, y, 25, 0, Math.PI * 2);
            ctx.fill();
            checkPercent();
        }

        function checkPercent() {
            if (cleared) return;
            const pixels = ctx.getImageData(0, 0, canvas.width, canvas.height).data;
            let count = 0;
            for (let i = 0; i < pixels.length; i += 4) { if (pixels[i+3] === 0) count++; }
            if (count > (pixels.length / 4) * 0.5) { // Ù„Ùˆ Ù…Ø³Ø­Øª 50%
                cleared = true;
                canvas.style.display = 'none';
                createExplosion();
            }
        }

        canvas.addEventListener('mousedown', () => isDrawing = true);
        canvas.addEventListener('touchstart', () => isDrawing = true);
        window.addEventListener('mouseup', () => isDrawing = false);
        window.addEventListener('touchend', () => isDrawing = false);
        canvas.addEventListener('mousemove', scratch);
        canvas.addEventListener('touchmove', scratch);
    }

    function createExplosion() {
        const emojis = ['â¤ï¸', 'ğŸŒ¸', 'ğŸŒ¹', 'âœ¨', 'ğŸ’–'];
        for (let i = 0; i < 50; i++) {
            const e = document.createElement('div');
            e.className = 'explosion';
            e.innerHTML = emojis[Math.floor(Math.random() * emojis.length)];
            e.style.left = '50%';
            e.style.top = '50%';
            e.style.setProperty('--x', (Math.random() * 400 - 200) + 'px');
            e.style.setProperty('--y', (Math.random() * 400 - 200) + 'px');
            document.body.appendChild(e);
            setTimeout(() => e.remove(), 1500);
        }
    }

    // Ø¨Ø§Ù‚ÙŠ Ø§Ù„ÙˆØ¸Ø§Ø¦Ù (askSecret, verifySecret, closePopup)...
    function showPop(msg) { /* ÙƒÙˆØ¯ Ø§Ù„Ø¨ÙˆØ¨ Ø§Ø¨ */ }
    function askSecret() { /* ÙƒÙˆØ¯ Ø³Ø¤Ø§Ù„ Ø§Ù„Ø³Ø± */ }
    function verifySecret() { /* ÙƒÙˆØ¯ Ø§Ù„ØªØ­Ù‚Ù‚ */ }
    function closePopup() { document.getElementById('pop').style.display='none'; document.getElementById('voice').pause(); }
</script>
</body>
</html>
